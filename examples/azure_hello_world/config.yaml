# NLWeb Configuration for Azure Hello World Example
# This configuration uses Azure OpenAI for LLM/embeddings and Azure AI Search for retrieval

port: 8000

# High-tier LLM model (for complex reasoning tasks)
high-llm-model:
  llm_type: azure_openai
  model: gpt-4.1
  endpoint_env: AZURE_OPENAI_ENDPOINT
  api_key_env: AZURE_OPENAI_KEY
  api_version: "2024-02-01"
  auth_method: api_key
  import_path: nlweb_azure_models.llm.azure_oai
  class_name: provider

# Low-tier LLM model (for faster, simpler tasks)
low-llm-model:
  llm_type: azure_openai
  model: gpt-4.1-mini
  endpoint_env: AZURE_OPENAI_ENDPOINT
  api_key_env: AZURE_OPENAI_KEY
  api_version: "2024-02-01"
  auth_method: api_key  # Use 'azure_ad' for managed identity
  import_path: nlweb_azure_models.llm.azure_oai
  class_name: provider

embedding:
  provider: azure_openai
  import_path: nlweb_azure_models.embedding.azure_oai_embedding
  class_name: get_azure_embedding
  endpoint_env: AZURE_OPENAI_ENDPOINT
  api_key_env: AZURE_OPENAI_KEY
  auth_method: api_key  # Use 'azure_ad' for managed identity
  model: text-embedding-3-small

retrieval:
  provider: azure_ai_search
  import_path: nlweb_azure_vectordb.azure_search_client
  class_name: AzureSearchClient
  api_endpoint_env: AZURE_SEARCH_ENDPOINT
  api_key_env: AZURE_SEARCH_KEY
  auth_method: api_key # Use 'azure_ad' for managed identity
  index_name: embeddings1536
  writer:
    import_path: nlweb_azure_vectordb.azure_search_writer
    class_name: AzureSearchWriter

server:
  host: localhost
